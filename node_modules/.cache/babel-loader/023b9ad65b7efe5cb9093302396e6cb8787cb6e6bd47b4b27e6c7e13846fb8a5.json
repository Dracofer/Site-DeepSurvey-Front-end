{"ast":null,"code":"export default function useAuth() {\n  const token = localStorage.getItem(\"token\");\n  if (!token) return {\n    logged: false,\n    admin: false,\n    roles: []\n  };\n  try {\n    const payload = JSON.parse(atob(token.split(\".\")[1]));\n    const roles = payload.roles || [];\n    return {\n      logged: true,\n      admin: roles.includes(\"ROLE_ADMIN\"),\n      roles\n    };\n  } catch (e) {\n    console.error(\"Token inválido:\", e);\n    return {\n      logged: false,\n      admin: false,\n      roles: []\n    };\n  }\n}","map":{"version":3,"names":["useAuth","token","localStorage","getItem","logged","admin","roles","payload","JSON","parse","atob","split","includes","e","console","error"],"sources":["C:/Users/ruan2/Desktop/Nova pasta (12)/src/hooks/useAuth.js"],"sourcesContent":["export default function useAuth() {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (!token) return { logged: false, admin: false, roles: [] };\r\n\r\n  try {\r\n    const payload = JSON.parse(atob(token.split(\".\")[1]));\r\n    const roles = payload.roles || [];\r\n\r\n    return {\r\n      logged: true,\r\n      admin: roles.includes(\"ROLE_ADMIN\"),\r\n      roles,\r\n    };\r\n  } catch (e) {\r\n    console.error(\"Token inválido:\", e);\r\n    return { logged: false, admin: false, roles: [] };\r\n  }\r\n}"],"mappings":"AAAA,eAAe,SAASA,OAAOA,CAAA,EAAG;EAChC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAI,CAACF,KAAK,EAAE,OAAO;IAAEG,MAAM,EAAE,KAAK;IAAEC,KAAK,EAAE,KAAK;IAAEC,KAAK,EAAE;EAAG,CAAC;EAE7D,IAAI;IACF,MAAMC,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACT,KAAK,CAACU,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACrD,MAAML,KAAK,GAAGC,OAAO,CAACD,KAAK,IAAI,EAAE;IAEjC,OAAO;MACLF,MAAM,EAAE,IAAI;MACZC,KAAK,EAAEC,KAAK,CAACM,QAAQ,CAAC,YAAY,CAAC;MACnCN;IACF,CAAC;EACH,CAAC,CAAC,OAAOO,CAAC,EAAE;IACVC,OAAO,CAACC,KAAK,CAAC,iBAAiB,EAAEF,CAAC,CAAC;IACnC,OAAO;MAAET,MAAM,EAAE,KAAK;MAAEC,KAAK,EAAE,KAAK;MAAEC,KAAK,EAAE;IAAG,CAAC;EACnD;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
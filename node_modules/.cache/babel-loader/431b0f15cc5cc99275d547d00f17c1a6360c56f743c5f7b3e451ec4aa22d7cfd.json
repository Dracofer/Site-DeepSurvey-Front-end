{"ast":null,"code":"import axios from \"axios\";\nconst API = process.env.REACT_APP_API_URL || \"http://localhost:8083\";\nconst api = axios.create({\n  baseURL: API\n});\n\n// Session (sacola)\nlet sessionId = localStorage.getItem(\"sessionId\");\nif (!sessionId) {\n  sessionId = crypto.randomUUID();\n  localStorage.setItem(\"sessionId\", sessionId);\n}\napi.interceptors.request.use(config => {\n  config.headers[\"X-Session-Id\"] = sessionId;\n  return config;\n});\nexport function setAuthToken(token) {\n  if (token) {\n    api.defaults.headers.common[\"Authorization\"] = \"Bearer \" + token;\n    localStorage.setItem(\"token\", token);\n  } else {\n    delete api.defaults.headers.common[\"Authorization\"];\n    localStorage.removeItem(\"token\");\n  }\n}\nconst savedToken = localStorage.getItem(\"token\");\nif (savedToken) {\n  api.defaults.headers.common[\"Authorization\"] = \"Bearer \" + savedToken;\n}\nexport default api;","map":{"version":3,"names":["axios","API","process","env","REACT_APP_API_URL","api","create","baseURL","sessionId","localStorage","getItem","crypto","randomUUID","setItem","interceptors","request","use","config","headers","setAuthToken","token","defaults","common","removeItem","savedToken"],"sources":["C:/Users/ruan2/Desktop/Nova pasta (12)/src/api.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API = process.env.REACT_APP_API_URL || \"http://localhost:8083\";\n\nconst api = axios.create({ baseURL: API });\n\n// Session (sacola)\nlet sessionId = localStorage.getItem(\"sessionId\");\nif (!sessionId) {\n  sessionId = crypto.randomUUID();\n  localStorage.setItem(\"sessionId\", sessionId);\n}\n\napi.interceptors.request.use((config) => {\n  config.headers[\"X-Session-Id\"] = sessionId;\n  return config;\n});\n\nexport function setAuthToken(token) {\n  if (token) {\n    api.defaults.headers.common[\"Authorization\"] = \"Bearer \" + token;\n    localStorage.setItem(\"token\", token);\n  } else {\n    delete api.defaults.headers.common[\"Authorization\"];\n    localStorage.removeItem(\"token\");\n  }\n}\n\nconst savedToken = localStorage.getItem(\"token\");\nif (savedToken) {\n  api.defaults.headers.common[\"Authorization\"] = \"Bearer \" + savedToken;\n}\n\nexport default api;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;AAEpE,MAAMC,GAAG,GAAGL,KAAK,CAACM,MAAM,CAAC;EAAEC,OAAO,EAAEN;AAAI,CAAC,CAAC;;AAE1C;AACA,IAAIO,SAAS,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;AACjD,IAAI,CAACF,SAAS,EAAE;EACdA,SAAS,GAAGG,MAAM,CAACC,UAAU,CAAC,CAAC;EAC/BH,YAAY,CAACI,OAAO,CAAC,WAAW,EAAEL,SAAS,CAAC;AAC9C;AAEAH,GAAG,CAACS,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EACvCA,MAAM,CAACC,OAAO,CAAC,cAAc,CAAC,GAAGV,SAAS;EAC1C,OAAOS,MAAM;AACf,CAAC,CAAC;AAEF,OAAO,SAASE,YAAYA,CAACC,KAAK,EAAE;EAClC,IAAIA,KAAK,EAAE;IACTf,GAAG,CAACgB,QAAQ,CAACH,OAAO,CAACI,MAAM,CAAC,eAAe,CAAC,GAAG,SAAS,GAAGF,KAAK;IAChEX,YAAY,CAACI,OAAO,CAAC,OAAO,EAAEO,KAAK,CAAC;EACtC,CAAC,MAAM;IACL,OAAOf,GAAG,CAACgB,QAAQ,CAACH,OAAO,CAACI,MAAM,CAAC,eAAe,CAAC;IACnDb,YAAY,CAACc,UAAU,CAAC,OAAO,CAAC;EAClC;AACF;AAEA,MAAMC,UAAU,GAAGf,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;AAChD,IAAIc,UAAU,EAAE;EACdnB,GAAG,CAACgB,QAAQ,CAACH,OAAO,CAACI,MAAM,CAAC,eAAe,CAAC,GAAG,SAAS,GAAGE,UAAU;AACvE;AAEA,eAAenB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
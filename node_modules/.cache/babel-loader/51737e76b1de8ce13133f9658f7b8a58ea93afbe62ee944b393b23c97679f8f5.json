{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ruan2\\\\Desktop\\\\Nova pasta (12)\\\\src\\\\pages\\\\Checkout.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport api, { setAuthToken } from \"../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PHONE_NUMBER = \"5511947935371\";\nexport default function Checkout() {\n  _s();\n  const [items, setItems] = useState([]);\n  const [nome, setNome] = useState(\"Ruan Oliveira da Silva\");\n  const [endereco, setEndereco] = useState(\"Sonia Maria F de Andrade, N¬∫ 69 - Jardim Novo Horizonte - SP\");\n  const [obs, setObs] = useState(\"\");\n  useEffect(() => {\n    carregar();\n  }, []);\n  async function carregar() {\n    try {\n      const token = localStorage.getItem(\"token\");\n      if (token) setAuthToken(token);\n      const r = await api.get(\"/cart\");\n      setItems(r.data || []);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  const total = items.reduce((s, it) => {\n    var _it$product;\n    return s + (((_it$product = it.product) === null || _it$product === void 0 ? void 0 : _it$product.price) || 0) * (it.quantity || 1);\n  }, 0);\n  function enviarWhats() {\n    if (items.length === 0) return alert(\"Carrinho vazio.\");\n    const linhas = items.map(it => {\n      var _it$product2, _it$product3, _it$product3$price;\n      return `${it.quantity}x ${(_it$product2 = it.product) === null || _it$product2 === void 0 ? void 0 : _it$product2.name} ‚Äî R$ ${(_it$product3 = it.product) === null || _it$product3 === void 0 ? void 0 : (_it$product3$price = _it$product3.price) === null || _it$product3$price === void 0 ? void 0 : _it$product3$price.toFixed(2).replace(\".\", \",\")}`;\n    }).join(\"%0A\");\n    const mensagem = `üõí *Pedido*%0A%0A` + `üë§ Nome: ${encodeURIComponent(nome)}%0A` + `üè† Endere√ßo: ${encodeURIComponent(endereco)}%0A%0A` + `üì¶ Itens:%0A${linhas}%0A%0A` + `üí¨ Obs: ${encodeURIComponent(obs || \"Nenhuma\")}%0A%0A` + `üí∞ Total: R$ ${total.toFixed(2).replace(\".\", \",\")}`;\n    const url = `https://api.whatsapp.com/send?phone=${PHONE_NUMBER}&text=${mensagem}`;\n    window.open(url, \"_blank\");\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"checkout-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"checkout-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Resumo do pedido\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), items.map(it => {\n        var _it$product4, _it$product5, _it$product5$price;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 10\n          },\n          children: [it.quantity, \"x \", (_it$product4 = it.product) === null || _it$product4 === void 0 ? void 0 : _it$product4.name, \" \\u2014 R$ \", (_it$product5 = it.product) === null || _it$product5 === void 0 ? void 0 : (_it$product5$price = _it$product5.price) === null || _it$product5$price === void 0 ? void 0 : _it$product5$price.toFixed(2).replace(\".\", \",\")]\n        }, it.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [\"Total: R$ \", total.toFixed(2).replace(\".\", \",\")]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"checkout-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Seus dados\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Nome\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"checkout-input\",\n        value: nome,\n        onChange: e => setNome(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          marginTop: 8\n        },\n        children: \"Endere\\xE7o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"checkout-input\",\n        value: endereco,\n        onChange: e => setEndereco(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          marginTop: 8\n        },\n        children: \"Observa\\xE7\\xF5es\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"checkout-textarea\",\n        value: obs,\n        onChange: e => setObs(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 12\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: enviarWhats,\n          children: \"Enviar pedido pelo WhatsApp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(Checkout, \"HjgVV8WpwePNCV1WhCE538wdScA=\");\n_c = Checkout;\nvar _c;\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["React","useEffect","useState","api","setAuthToken","jsxDEV","_jsxDEV","PHONE_NUMBER","Checkout","_s","items","setItems","nome","setNome","endereco","setEndereco","obs","setObs","carregar","token","localStorage","getItem","r","get","data","e","console","error","total","reduce","s","it","_it$product","product","price","quantity","enviarWhats","length","alert","linhas","map","_it$product2","_it$product3","_it$product3$price","name","toFixed","replace","join","mensagem","encodeURIComponent","url","window","open","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_it$product4","_it$product5","_it$product5$price","style","marginBottom","id","value","onChange","target","marginTop","onClick","_c","$RefreshReg$"],"sources":["C:/Users/ruan2/Desktop/Nova pasta (12)/src/pages/Checkout.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport api, { setAuthToken } from \"../api\";\n\nconst PHONE_NUMBER = \"5511947935371\";\n\nexport default function Checkout() {\n  const [items, setItems] = useState([]);\n  const [nome, setNome] = useState(\"Ruan Oliveira da Silva\");\n  const [endereco, setEndereco] = useState(\"Sonia Maria F de Andrade, N¬∫ 69 - Jardim Novo Horizonte - SP\");\n  const [obs, setObs] = useState(\"\");\n\n  useEffect(() => {\n    carregar();\n  }, []);\n\n  async function carregar() {\n    try {\n      const token = localStorage.getItem(\"token\");\n      if (token) setAuthToken(token);\n      const r = await api.get(\"/cart\");\n      setItems(r.data || []);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  const total = items.reduce((s, it) => s + (it.product?.price || 0) * (it.quantity || 1), 0);\n\n  function enviarWhats() {\n    if (items.length === 0) return alert(\"Carrinho vazio.\");\n\n    const linhas = items.map(it => `${it.quantity}x ${it.product?.name} ‚Äî R$ ${it.product?.price?.toFixed(2).replace(\".\", \",\")}`).join(\"%0A\");\n    const mensagem =\n      `üõí *Pedido*%0A%0A` +\n      `üë§ Nome: ${encodeURIComponent(nome)}%0A` +\n      `üè† Endere√ßo: ${encodeURIComponent(endereco)}%0A%0A` +\n      `üì¶ Itens:%0A${linhas}%0A%0A` +\n      `üí¨ Obs: ${encodeURIComponent(obs || \"Nenhuma\")}%0A%0A` +\n      `üí∞ Total: R$ ${total.toFixed(2).replace(\".\", \",\")}`;\n\n    const url = `https://api.whatsapp.com/send?phone=${PHONE_NUMBER}&text=${mensagem}`;\n    window.open(url, \"_blank\");\n  }\n\n  return (\n    <div className=\"checkout-container\">\n      <div className=\"checkout-box\">\n        <h3>Resumo do pedido</h3>\n        {items.map(it => (\n          <div key={it.id} style={{ marginBottom: 10 }}>\n            {it.quantity}x {it.product?.name} ‚Äî R$ {it.product?.price?.toFixed(2).replace(\".\", \",\")}\n          </div>\n        ))}\n        <h4>Total: R$ {total.toFixed(2).replace(\".\", \",\")}</h4>\n      </div>\n\n      <div className=\"checkout-box\">\n        <h3>Seus dados</h3>\n        <label>Nome</label>\n        <input className=\"checkout-input\" value={nome} onChange={e => setNome(e.target.value)} />\n        <label style={{ marginTop: 8 }}>Endere√ßo</label>\n        <input className=\"checkout-input\" value={endereco} onChange={e => setEndereco(e.target.value)} />\n        <label style={{ marginTop: 8 }}>Observa√ß√µes</label>\n        <textarea className=\"checkout-textarea\" value={obs} onChange={e => setObs(e.target.value)} />\n        <div style={{ marginTop: 12 }}>\n          <button className=\"btn\" onClick={enviarWhats}>Enviar pedido pelo WhatsApp</button>\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
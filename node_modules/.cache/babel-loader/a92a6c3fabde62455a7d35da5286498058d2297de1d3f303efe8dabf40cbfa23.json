{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ruan2\\\\Desktop\\\\Nova pasta (12)\\\\src\\\\components\\\\ProdutoForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport api from \"../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ProdutoForm({\n  categorias,\n  produtoEdit,\n  onSave\n}) {\n  _s();\n  const [form, setForm] = useState({\n    name: \"\",\n    price: \"\",\n    imageUrl: \"\",\n    category: null,\n    onSale: false,\n    salePrice: \"\"\n  });\n  useEffect(() => {\n    if (produtoEdit) {\n      var _produtoEdit$category;\n      setForm({\n        name: produtoEdit.name,\n        price: produtoEdit.price,\n        imageUrl: produtoEdit.imageUrl,\n        category: ((_produtoEdit$category = produtoEdit.category) === null || _produtoEdit$category === void 0 ? void 0 : _produtoEdit$category.id) || null,\n        onSale: produtoEdit.onSale || false,\n        salePrice: produtoEdit.salePrice || \"\"\n      });\n    }\n  }, [produtoEdit]);\n  function update(e) {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value\n    });\n  }\n  async function salvar() {\n    const payload = {\n      name: form.name,\n      price: Number(form.price),\n      imageUrl: form.imageUrl,\n      onSale: form.onSale,\n      salePrice: form.onSale ? Number(form.salePrice) : null,\n      category: form.category ? {\n        id: Number(form.category)\n      } : null\n    };\n    if (produtoEdit) {\n      await api.put(`/products/${produtoEdit.id}`, payload);\n    } else {\n      await api.post(`/products`, payload);\n    }\n    alert(\"Produto salvo!\");\n    setForm({\n      name: \"\",\n      price: \"\",\n      imageUrl: \"\",\n      category: null,\n      onSale: false,\n      salePrice: \"\"\n    });\n    onSave();\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginBottom: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: produtoEdit ? \"Editar Produto\" : \"Novo Produto\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Nome\",\n      name: \"name\",\n      value: form.name,\n      onChange: update\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Pre\\xE7o\",\n      name: \"price\",\n      value: form.price,\n      onChange: update\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Imagem URL\",\n      name: \"imageUrl\",\n      value: form.imageUrl,\n      onChange: update\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      name: \"category\",\n      value: form.category || \"\",\n      onChange: update,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Sem categoria\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), categorias.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: c.id,\n        children: c.name\n      }, c.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        checked: form.onSale,\n        onChange: e => setForm({\n          ...form,\n          onSale: e.target.checked\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), \"Produto em oferta?\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), form.onSale && /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Pre\\xE7o promocional\",\n      name: \"salePrice\",\n      value: form.salePrice,\n      onChange: update\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: salvar,\n      children: \"Salvar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(ProdutoForm, \"4bGVCdNQMNzdlhxDg3Mf8JvKrjo=\");\n_c = ProdutoForm;\nvar _c;\n$RefreshReg$(_c, \"ProdutoForm\");","map":{"version":3,"names":["React","useState","useEffect","api","jsxDEV","_jsxDEV","ProdutoForm","categorias","produtoEdit","onSave","_s","form","setForm","name","price","imageUrl","category","onSale","salePrice","_produtoEdit$category","id","update","e","target","value","salvar","payload","Number","put","post","alert","style","marginBottom","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","map","c","type","checked","onClick","_c","$RefreshReg$"],"sources":["C:/Users/ruan2/Desktop/Nova pasta (12)/src/components/ProdutoForm.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport api from \"../api\";\r\n\r\nexport default function ProdutoForm({ categorias, produtoEdit, onSave }) {\r\n\r\n  const [form, setForm] = useState({\r\n    name: \"\",\r\n    price: \"\",\r\n    imageUrl: \"\",\r\n    category: null,\r\n    onSale: false,\r\n    salePrice: \"\"\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (produtoEdit) {\r\n      setForm({\r\n        name: produtoEdit.name,\r\n        price: produtoEdit.price,\r\n        imageUrl: produtoEdit.imageUrl,\r\n        category: produtoEdit.category?.id || null,\r\n        onSale: produtoEdit.onSale || false,\r\n        salePrice: produtoEdit.salePrice || \"\"\r\n      });\r\n    }\r\n  }, [produtoEdit]);\r\n\r\n  function update(e) {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  }\r\n\r\n  async function salvar() {\r\n    const payload = {\r\n      name: form.name,\r\n      price: Number(form.price),\r\n      imageUrl: form.imageUrl,\r\n      onSale: form.onSale,\r\n      salePrice: form.onSale ? Number(form.salePrice) : null,\r\n      category: form.category ? { id: Number(form.category) } : null\r\n    };\r\n\r\n    if (produtoEdit) {\r\n      await api.put(`/products/${produtoEdit.id}`, payload);\r\n    } else {\r\n      await api.post(`/products`, payload);\r\n    }\r\n\r\n    alert(\"Produto salvo!\");\r\n    setForm({\r\n      name: \"\",\r\n      price: \"\",\r\n      imageUrl: \"\",\r\n      category: null,\r\n      onSale: false,\r\n      salePrice: \"\"\r\n    });\r\n\r\n    onSave();\r\n  }\r\n\r\n  return (\r\n    <div style={{ marginBottom: 20 }}>\r\n      <h3>{produtoEdit ? \"Editar Produto\" : \"Novo Produto\"}</h3>\r\n\r\n      <input\r\n        placeholder=\"Nome\"\r\n        name=\"name\"\r\n        value={form.name}\r\n        onChange={update}\r\n      /><br />\r\n\r\n      <input\r\n        placeholder=\"Preço\"\r\n        name=\"price\"\r\n        value={form.price}\r\n        onChange={update}\r\n      /><br />\r\n\r\n      <input\r\n        placeholder=\"Imagem URL\"\r\n        name=\"imageUrl\"\r\n        value={form.imageUrl}\r\n        onChange={update}\r\n      /><br />\r\n\r\n      <select\r\n        name=\"category\"\r\n        value={form.category || \"\"}\r\n        onChange={update}\r\n      >\r\n        <option value=\"\">Sem categoria</option>\r\n        {categorias.map(c => (\r\n          <option key={c.id} value={c.id}>{c.name}</option>\r\n        ))}\r\n      </select>\r\n\r\n      <br />\r\n\r\n      <label>\r\n        <input\r\n          type=\"checkbox\"\r\n          checked={form.onSale}\r\n          onChange={(e) => setForm({ ...form, onSale: e.target.checked })}\r\n        />\r\n        Produto em oferta?\r\n      </label>\r\n\r\n      {form.onSale && (\r\n        <input\r\n          placeholder=\"Preço promocional\"\r\n          name=\"salePrice\"\r\n          value={form.salePrice}\r\n          onChange={update}\r\n        />\r\n      )}\r\n\r\n      <br /><br />\r\n\r\n      <button onClick={salvar}>Salvar</button>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ruan2\\\\Desktop\\\\Nova pasta (12)\\\\src\\\\pages\\\\Cart.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport api from \"../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Cart() {\n  _s();\n  const [items, setItems] = useState([]);\n  useEffect(() => {\n    load();\n  }, []);\n  async function load() {\n    try {\n      const sessionId = localStorage.getItem(\"sessionId\");\n      if (!sessionId) return;\n      const r = await api.get(\"/cart/\" + sessionId);\n      setItems(r.data);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  async function updateQty(id, newQty) {\n    if (newQty <= 0) return;\n    const item = items.find(i => i.id === id);\n    try {\n      await api.post(\"/cart/add\", {\n        id: id,\n        sessionId: item.sessionId,\n        product: {\n          id: item.product.id\n        },\n        quantity: newQty,\n        price: item.product.price\n      });\n      load();\n    } catch (err) {\n      console.error(err);\n    }\n  }\n  async function removeItem(id) {\n    try {\n      await api.post(\"/cart/remove\", {\n        itemId: id\n      });\n      load();\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    style: {\n      paddingTop: 40\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        marginBottom: 30\n      },\n      children: \"Minha sacola\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), items.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontSize: 18,\n        color: \"#666\"\n      },\n      children: \"Sua sacola est\\xE1 vazia.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        gap: 25\n      },\n      children: items.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          gap: 20,\n          padding: 15,\n          border: \"1px solid #eee\",\n          borderRadius: 10,\n          background: \"white\",\n          maxWidth: 650\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: item.product.imageUrl ? `/images/${item.product.imageUrl}` : \"https://via.placeholder.com/120\",\n          alt: item.product.name,\n          style: {\n            width: 120,\n            height: 120,\n            objectFit: \"cover\",\n            borderRadius: 8\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              margin: 0,\n              marginBottom: 8\n            },\n            children: item.product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 10\n            },\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: [\"R$ \", (item.price ? item.price : item.product.price).toFixed(2).replace(\".\", \",\")]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              alignItems: \"center\",\n              gap: 10,\n              marginBottom: 10\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => updateQty(item.id, item.quantity - 1),\n              style: qtyButton,\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: 18,\n                fontWeight: 700\n              },\n              children: item.quantity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => updateQty(item.id, item.quantity + 1),\n              style: qtyButton,\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => removeItem(item.id),\n            style: {\n              padding: \"6px 12px\",\n              borderRadius: 6,\n              background: \"#ff4d4d\",\n              color: \"white\",\n              border: \"none\",\n              cursor: \"pointer\",\n              fontWeight: 600\n            },\n            children: \"Remover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(Cart, \"E85yb7BhBnl3/OpymRdjFiQJ97s=\");\n_c = Cart;\nconst qtyButton = {\n  width: 30,\n  height: 30,\n  borderRadius: 6,\n  border: \"1px solid #ccc\",\n  background: \"#f5f5f5\",\n  cursor: \"pointer\",\n  fontSize: 18,\n  fontWeight: 700\n};\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useEffect","useState","api","jsxDEV","_jsxDEV","Cart","_s","items","setItems","load","sessionId","localStorage","getItem","r","get","data","e","console","error","updateQty","id","newQty","item","find","i","post","product","quantity","price","err","removeItem","itemId","className","style","paddingTop","children","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","length","fontSize","color","display","flexDirection","gap","map","padding","border","borderRadius","background","maxWidth","src","imageUrl","alt","name","width","height","objectFit","flex","margin","toFixed","replace","alignItems","onClick","qtyButton","fontWeight","cursor","_c","$RefreshReg$"],"sources":["C:/Users/ruan2/Desktop/Nova pasta (12)/src/pages/Cart.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport api from \"../api\";\n\nexport default function Cart() {\n  const [items, setItems] = useState([]);\n\n  useEffect(() => {\n    load();\n  }, []);\n\n  async function load() {\n    try {\n      const sessionId = localStorage.getItem(\"sessionId\");\n      if (!sessionId) return;\n\n      const r = await api.get(\"/cart/\" + sessionId);\n      setItems(r.data);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n async function updateQty(id, newQty) {\n  if (newQty <= 0) return;\n\n  const item = items.find(i => i.id === id);\n\n  try {\n    await api.post(\"/cart/add\", {\n      id: id,\n      sessionId: item.sessionId,\n      product: { id: item.product.id },\n      quantity: newQty,\n      price: item.product.price\n    });\n\n    load();\n  } catch (err) {\n    console.error(err);\n  }\n}\n\n  async function removeItem(id) {\n    try {\n      await api.post(\"/cart/remove\", { itemId: id });\n      load();\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  return (\n    <div className=\"container\" style={{ paddingTop: 40 }}>\n      <h2 style={{ marginBottom: 30 }}>Minha sacola</h2>\n\n      {items.length === 0 && (\n        <div style={{ fontSize: 18, color: \"#666\" }}>Sua sacola está vazia.</div>\n      )}\n\n      <div style={{ display: \"flex\", flexDirection: \"column\", gap: 25 }}>\n        {items.map((item) => (\n          <div\n            key={item.id}\n            style={{\n              display: \"flex\",\n              gap: 20,\n              padding: 15,\n              border: \"1px solid #eee\",\n              borderRadius: 10,\n              background: \"white\",\n              maxWidth: 650,\n            }}\n          >\n\n            {/* IMAGEM */}\n            <img\n              src={\n                item.product.imageUrl\n                  ? `/images/${item.product.imageUrl}`\n                  : \"https://via.placeholder.com/120\"\n              }\n              alt={item.product.name}\n              style={{\n                width: 120,\n                height: 120,\n                objectFit: \"cover\",\n                borderRadius: 8,\n              }}\n            />\n\n            {/* INFORMAÇÕES */}\n            <div style={{ flex: 1 }}>\n              <h4 style={{ margin: 0, marginBottom: 8 }}>\n                {item.product.name}\n              </h4>\n\n              <div style={{ marginBottom: 10 }}>\n                <b>\n  R$ {(item.price ? item.price : item.product.price)\n      .toFixed(2)\n      .replace(\".\", \",\")}\n</b>\n              </div>\n\n              {/* QUANTIDADE */}\n              <div\n                style={{\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: 10,\n                  marginBottom: 10,\n                }}\n              >\n                <button\n                  onClick={() => updateQty(item.id, item.quantity - 1)}\n                  style={qtyButton}\n                >\n                  -\n                </button>\n\n                <div style={{ fontSize: 18, fontWeight: 700 }}>\n                  {item.quantity}\n                </div>\n\n                <button\n                  onClick={() => updateQty(item.id, item.quantity + 1)}\n                  style={qtyButton}\n                >\n                  +\n                </button>\n              </div>\n\n              {/* REMOVER */}\n              <button\n                onClick={() => removeItem(item.id)}\n                style={{\n                  padding: \"6px 12px\",\n                  borderRadius: 6,\n                  background: \"#ff4d4d\",\n                  color: \"white\",\n                  border: \"none\",\n                  cursor: \"pointer\",\n                  fontWeight: 600,\n                }}\n              >\n                Remover\n              </button>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nconst qtyButton = {\n  width: 30,\n  height: 30,\n  borderRadius: 6,\n  border: \"1px solid #ccc\",\n  background: \"#f5f5f5\",\n  cursor: \"pointer\",\n  fontSize: 18,\n  fontWeight: 700,\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ruan2\\\\Desktop\\\\Nova pasta (12)\\\\src\\\\pages\\\\Cart.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport api, { setAuthToken } from \"../api\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Cart() {\n  _s();\n  const [items, setItems] = useState([]);\n  useEffect(() => {\n    carregar();\n  }, []);\n  async function carregar() {\n    try {\n      const token = localStorage.getItem(\"token\");\n      if (token) setAuthToken(token);\n      const r = await api.get(\"/cart\");\n      setItems(r.data || []);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  async function limpar() {\n    try {\n      await api.post(\"/cart/clear\");\n      setItems([]);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  const total = items.reduce((s, it) => {\n    var _it$product;\n    return s + (((_it$product = it.product) === null || _it$product === void 0 ? void 0 : _it$product.price) || 0) * (it.quantity || 1);\n  }, 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cart-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Meu Carrinho\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), items.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Sua sacola est\\xE1 vazia.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btn\",\n          children: \"Ir \\xE0s compras\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 24\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [items.map(it => {\n        var _it$product2, _it$product3, _it$product4, _it$product5, _it$product5$price;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: ((_it$product2 = it.product) === null || _it$product2 === void 0 ? void 0 : _it$product2.imageUrl) || \"https://via.placeholder.com/120\",\n            alt: (_it$product3 = it.product) === null || _it$product3 === void 0 ? void 0 : _it$product3.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"meta\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: (_it$product4 = it.product) === null || _it$product4 === void 0 ? void 0 : _it$product4.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"R$ \", (_it$product5 = it.product) === null || _it$product5 === void 0 ? void 0 : (_it$product5$price = _it$product5.price) === null || _it$product5$price === void 0 ? void 0 : _it$product5$price.toFixed(2).replace(\".\", \",\")]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-qty\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Qtd: \", it.quantity]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 15\n          }, this)]\n        }, it.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Total: R$ \", total.toFixed(2).replace(\".\", \",\")]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/checkout\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btn\",\n            style: {\n              marginRight: 12\n            },\n            children: \"Finalizar Pedido\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 34\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn ghost\",\n          onClick: limpar,\n          children: \"Limpar carrinho\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n_s(Cart, \"E85yb7BhBnl3/OpymRdjFiQJ97s=\");\n_c = Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useEffect","useState","api","setAuthToken","Link","jsxDEV","_jsxDEV","Fragment","_Fragment","Cart","_s","items","setItems","carregar","token","localStorage","getItem","r","get","data","e","console","error","limpar","post","total","reduce","s","it","_it$product","product","price","quantity","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","to","map","_it$product2","_it$product3","_it$product4","_it$product5","_it$product5$price","src","imageUrl","alt","name","toFixed","replace","id","style","marginTop","marginRight","onClick","_c","$RefreshReg$"],"sources":["C:/Users/ruan2/Desktop/Nova pasta (12)/src/pages/Cart.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport api, { setAuthToken } from \"../api\";\nimport { Link } from \"react-router-dom\";\n\nexport default function Cart() {\n  const [items, setItems] = useState([]);\n\n  useEffect(() => {\n    carregar();\n  }, []);\n\n  async function carregar() {\n    try {\n      const token = localStorage.getItem(\"token\");\n      if (token) setAuthToken(token);\n      const r = await api.get(\"/cart\");\n      setItems(r.data || []);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  async function limpar() {\n    try {\n      await api.post(\"/cart/clear\");\n      setItems([]);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  const total = items.reduce((s, it) => s + (it.product?.price || 0) * (it.quantity || 1), 0);\n\n  return (\n    <div className=\"cart-container\">\n      <h2>Meu Carrinho</h2>\n\n      {items.length === 0 ? (\n        <div>\n          <p>Sua sacola está vazia.</p>\n          <Link to=\"/\"><div className=\"btn\">Ir às compras</div></Link>\n        </div>\n      ) : (\n        <>\n          {items.map((it) => (\n            <div className=\"cart-item\" key={it.id}>\n              <img src={it.product?.imageUrl || \"https://via.placeholder.com/120\"} alt={it.product?.name} />\n              <div className=\"meta\">\n                <h4>{it.product?.name}</h4>\n                <div>R$ {it.product?.price?.toFixed(2).replace(\".\", \",\")}</div>\n                <div className=\"cart-qty\">\n                  <div>Qtd: {it.quantity}</div>\n                </div>\n              </div>\n            </div>\n          ))}\n\n          <div style={{ marginTop: 12 }}>\n            <h3>Total: R$ {total.toFixed(2).replace(\".\", \",\")}</h3>\n            <Link to=\"/checkout\"><div className=\"btn\" style={{ marginRight: 12 }}>Finalizar Pedido</div></Link>\n            <button className=\"btn ghost\" onClick={limpar}>Limpar carrinho</button>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}